{"ast":null,"code":"import _slicedToArray from\"C:/Users/sweet/newReact/Redux project/advancedproj/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useReducer}from\"react\";import Card from\"./Card\";import classes from'./Login.module.css';import{useDispatch}from\"react-redux\";import{loginActions}from\"../store/login-slice\";import Button from\"./Button/Button\";import Input from\"./Input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emailReducer=function emailReducer(state,action){if(action.type===\"NEW_USER_INPUT\"){return{value:action.val,isValid:action.val.includes(\"@\")};}if(action.type===\"USER_BLURRED_INPUT\"){return{value:state.value,isValid:state.value.includes(\"@\")};}return{value:\"\",isValid:false};};var passwordReducer=function passwordReducer(state,action){if(action.type===\"PASSWORD_INPUT\"){return{value:action.val,isValid:action.val.trim().length>6};}if(action.type===\"PASSWORD_BLURRED\"){return{value:state.value,isValid:state.value.trim().length>6};}return{value:\"\",isValid:false};};var Login=function Login(props){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formIsValid=_useState2[0],setFormIsValid=_useState2[1];var _useReducer=useReducer(emailReducer,{value:\"\",isValid:null}),_useReducer2=_slicedToArray(_useReducer,2),emailState=_useReducer2[0],dispatchEmail=_useReducer2[1];var _useReducer3=useReducer(passwordReducer,{value:\"\",isValid:null}),_useReducer4=_slicedToArray(_useReducer3,2),passwordState=_useReducer4[0],dispatchPassword=_useReducer4[1];var emailIsValid=emailState.isValid;var passwordIsValid=passwordState.isValid;useEffect(function(){var time=setTimeout(function(){console.log(\"time working\");console.log(emailIsValid,passwordIsValid);setFormIsValid(emailIsValid&&passwordIsValid);},500);return function(){console.log(\"cleanup\");clearTimeout(time);};},[emailIsValid,passwordIsValid]);var emailChangeHandler=function emailChangeHandler(event){dispatchEmail({type:\"NEW_USER_INPUT\",val:event.target.value});};var passwordChangeHandler=function passwordChangeHandler(event){dispatchPassword({type:\"PASSWORD_INPUT\",val:event.target.value});};var validateEmailHandler=function validateEmailHandler(){dispatchEmail({type:\"USER_BLURRED_INPUT\"});};var validatePasswordHandler=function validatePasswordHandler(){dispatchPassword({type:\"PASSWORD_BLURRED\"});};var submitHandler=function submitHandler(event){event.preventDefault();dispatch(loginActions.login());};return/*#__PURE__*/_jsx(Card,{className:classes.login,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(Input,{id:\"email\",label:\"E-mail\",type:\"email\",isValid:emailIsValid,value:emailState.value,onChange:emailChangeHandler,onBlur:validateEmailHandler}),/*#__PURE__*/_jsx(Input,{id:\"password\",label:\"Password\",type:\"Password\",isValid:passwordIsValid,value:passwordState.value,onChange:passwordChangeHandler,onBlur:validatePasswordHandler}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:classes.btn,disabled:!formIsValid,children:\"Login\"})})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useReducer","Card","classes","useDispatch","loginActions","Button","Input","jsx","_jsx","jsxs","_jsxs","emailReducer","state","action","type","value","val","isValid","includes","passwordReducer","trim","length","Login","props","dispatch","_useState","_useState2","_slicedToArray","formIsValid","setFormIsValid","_useReducer","_useReducer2","emailState","dispatchEmail","_useReducer3","_useReducer4","passwordState","dispatchPassword","emailIsValid","passwordIsValid","time","setTimeout","console","log","clearTimeout","emailChangeHandler","event","target","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","submitHandler","preventDefault","login","className","children","onSubmit","id","label","onChange","onBlur","actions","btn","disabled"],"sources":["C:/Users/sweet/newReact/Redux project/advancedproj/src/components/UI/Login.js"],"sourcesContent":["import React, { useState, useEffect, useReducer } from \"react\";\r\nimport Card from \"./Card\";\r\nimport classes from './Login.module.css'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginActions } from \"../store/login-slice\";\r\nimport Button from \"./Button/Button\";\r\nimport Input from \"./Input\";\r\n\r\n\r\nconst emailReducer = (state, action) => {\r\n    if (action.type === \"NEW_USER_INPUT\") {\r\n      return { value: action.val, isValid: action.val.includes(\"@\") };\r\n    }\r\n    if (action.type === \"USER_BLURRED_INPUT\") {\r\n      return { value: state.value, isValid: state.value.includes(\"@\") };\r\n    }\r\n    return { value: \"\", isValid: false };\r\n  };\r\n  const passwordReducer = (state, action) => {\r\n    if (action.type === \"PASSWORD_INPUT\") {\r\n      return { value: action.val, isValid: action.val.trim().length > 6 };\r\n    }\r\n    if (action.type === \"PASSWORD_BLURRED\") {\r\n      return { value: state.value, isValid: state.value.trim().length > 6 };\r\n    }\r\n    return { value: \"\", isValid: false };\r\n  };\r\n  const Login = (props) => {\r\nconst dispatch=useDispatch()\r\n    const [formIsValid, setFormIsValid] = useState(false);\r\n    const [emailState, dispatchEmail] = useReducer(emailReducer, {\r\n      value: \"\",\r\n      isValid: null,\r\n    });\r\n    const [passwordState, dispatchPassword] = useReducer(passwordReducer, {\r\n      value: \"\",\r\n      isValid: null,\r\n    });\r\n    const { isValid: emailIsValid } = emailState;\r\n    const { isValid: passwordIsValid } = passwordState;\r\n  \r\n    useEffect(() => {\r\n      const time = setTimeout(() => {\r\n        console.log(\"time working\");\r\n        console.log(emailIsValid,passwordIsValid)\r\n        setFormIsValid(emailIsValid && passwordIsValid);\r\n      }, 500);\r\n  \r\n      return () => {\r\n        console.log(\"cleanup\");\r\n        clearTimeout(time);\r\n      };\r\n    }, [emailIsValid, passwordIsValid]);\r\n    const emailChangeHandler = (event) => {\r\n      dispatchEmail({ type: \"NEW_USER_INPUT\", val: event.target.value });\r\n \r\n    };\r\n  \r\n    const passwordChangeHandler = (event) => {\r\n      dispatchPassword({ type: \"PASSWORD_INPUT\", val: event.target.value });\r\n     \r\n    };\r\n  \r\n    const validateEmailHandler = () => {\r\n      dispatchEmail({ type: \"USER_BLURRED_INPUT\" });\r\n      \r\n    };\r\n  \r\n    const validatePasswordHandler = () => {\r\n      dispatchPassword({ type: \"PASSWORD_BLURRED\" });\r\n     \r\n    };\r\n  \r\n    const submitHandler = (event) => {\r\n      event.preventDefault();\r\n      dispatch(loginActions.login())\r\n    };\r\n  \r\n    return (\r\n      <Card className={classes.login}>\r\n        <form onSubmit={submitHandler}>\r\n          <Input\r\n            id=\"email\"\r\n            label=\"E-mail\"\r\n            type=\"email\"\r\n            isValid={emailIsValid}\r\n            value={emailState.value}\r\n            onChange={emailChangeHandler}\r\n            onBlur={validateEmailHandler}\r\n          ></Input>\r\n           <Input\r\n            id=\"password\"\r\n            label=\"Password\"\r\n            type=\"Password\"\r\n            isValid={passwordIsValid}\r\n            value={passwordState.value}\r\n            onChange={passwordChangeHandler}\r\n            onBlur={validatePasswordHandler}\r\n          ></Input>\r\n          <div className={classes.actions}>\r\n            <Button type=\"submit\" className={classes.btn} disabled={!formIsValid}>\r\n              Login\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Card>\r\n    );\r\n  };\r\n  \r\n  export default Login;\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}